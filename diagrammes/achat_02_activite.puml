@startuml AchatActivite
!theme plain
skinparam backgroundColor #FFFFFF
skinparam activityBackgroundColor #F8F9FA
skinparam activityBorderColor #2C3E50

title **Diagramme d'Activité : Processus d'Achat**

start
:Client sélectionne produits;
:Ajouter au panier;

if (Stock disponible ?) then (oui)
    :Procéder au checkout;
else (non)
    :Afficher rupture stock;
    stop
endif

:Saisir informations livraison;
:Valider commande;
:Créer commande (pending);

:Traitement paiement Stripe;

if (Paiement réussi ?) then (oui)
    :Confirmer commande;
    :Décrémenter stock;
    :Email confirmation;
    
    :Workflow automatique;
    note right
        preparing (15s)
        ↓
        shipped (15s)
        ↓ 
        delivered (15s)
    end note
    
    :Processus terminé;
else (non)
    :Échec paiement;
    :Possibilité de retenter;
endif

stop

@enduml
